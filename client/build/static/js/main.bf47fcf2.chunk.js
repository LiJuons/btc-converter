(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(54)},21:function(e,t,n){},39:function(e,t){},42:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),o=(n(21),n(1)),s=n(2),l=n(4),u=n(3),d=n(5),p=n(15),m=n(6),f=n(14),h=n.n(f),g=(n(42),n(44),function(e){var t=e.btc,n=e.prices,a=e.displayList,c=e.toggleCurrency;return r.a.createElement("div",{className:"currency-container"},n&&Object.entries(n).map(function(e,n){return r.a.createElement("div",{key:n,className:"currency-rates",style:a[n]?{display:"flex"}:{display:"none"}},r.a.createElement("div",{className:"curr-title"},r.a.createElement("div",{className:"curr-descr"},e[1].description),r.a.createElement("div",{className:"curr-close",onClick:function(){return c(n,!1)}},"X")),r.a.createElement("div",{className:"curr-status"},r.a.createElement("div",{className:"curr-sign"},(o=e[1].symbol,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}}))),r.a.createElement("div",{className:"curr-rate"},(i=e[1].rate_float*(t||0),(+(Math.round(i+"e+2")+"e-2")).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")))));var i,o}))}),v=(n(46),function(e){return r.a.createElement("div",{className:"dropdown-list"},e.dropdownList.map(function(t,n){return t&&r.a.createElement("div",{key:n,onClick:function(){return e.toggleCurrency(n,!0)}},r.a.createElement("span",null,"+")," ",t)}))}),y=(n(48),function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loading"},"Loading..."))}),b=(n(50),function(e){var t=e.err;return r.a.createElement("div",{className:"error-msg"},t)}),E=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={btc:"",prices:{},displayList:[],dropdownList:[],showDropdown:!1,loading:!0,error:""},n.getCurrencies=function(){fetch("/currencies").then(function(e){return e.json()}).then(function(e){var t=n.state.displayList.length>0?n.state.displayList:Object.keys(e.bpi).map(function(e){return!0});n.setState({prices:e.bpi,displayList:t,loading:!1})}).catch(function(e){return n.setState({loading:!1,error:"Failed to fetch data. Please try refreshing the page."})})},n.toggleCurrency=function(e,t){var a=Object(m.a)(n.state.displayList),r=Object(m.a)(n.state.dropdownList),c=n.state.showDropdown;a[e]=t,r[e]=t?null:Object.keys(n.state.prices)[e],0===r.filter(function(e){return null!=e}).length&&(r=[],c=!1),n.setState(Object(p.a)({},n.state,{displayList:a,dropdownList:r,showDropdown:c}))},n.toggleDropdown=function(e){n.setState({showDropdown:e})},n.handleChange=function(e){var t=e.target.value;t=(t=Number(t)||"0."===t||"0"===t.slice(-1)?t:t.slice(0,-1)).length<16?t:t.slice(0,-1),n.setState({btc:t})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateSchedule=h.a.scheduleJob("15 * * * * *",function(){e.getCurrencies()})}},{key:"componentWillMount",value:function(){this.getCurrencies()}},{key:"render",value:function(){var e=this,t=this.state,n=t.btc,a=t.prices,c=t.displayList,i=t.dropdownList,o=t.showDropdown,s=t.loading,l=t.error;return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"btc-icon"}),r.a.createElement("div",null,r.a.createElement("div",null,"Bitcoin"),r.a.createElement("input",{className:"btc-input",type:"text",placeholder:"Enter BTC value",value:this.state.btc,onChange:this.handleChange,onFocus:function(){return e.setState({btc:""})}})),s?r.a.createElement(y,null):l?r.a.createElement(b,{err:l}):r.a.createElement(g,{btc:n,prices:a,displayList:c,toggleCurrency:this.toggleCurrency}),r.a.createElement("div",null,i.length>0&&r.a.createElement("div",{className:"dropdown-button",onClick:function(){return e.toggleDropdown(!o)}},"Other Currencies"),o&&r.a.createElement(v,{dropdownList:i,toggleCurrency:this.toggleCurrency})))}}]),t}(a.Component),w=(n(52),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(E,null))}}]),t}(a.Component));i.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.bf47fcf2.chunk.js.map